# Maintainer: Ari Mizrahi <codemunchies@gmail.com>

pkgname=sslscan
pkgver=1.9.0
pkgrel=1
pkgdesc="SSLScan queries SSL services, such as HTTPS, in order to determine the ciphers that are supported"
arch=("$CARCH")
url=('http://sourceforge.net/projects/sslscan/')
license=('GPL')
md5sums=('')
conflicts=("${pkgname}")
provides=("${pkgname}")

_svntrunk=('svn://svn.code.sf.net/p/sslscan/code/')
_rootpath=('blackarch')
_category=('vulnerability_analysis')

build() {
  svn co ${_svntrunk} ${pkgname}

  cd ${srcdir}/${pkgname}/trunk
  # add -lcrypto to linker
  sed -i 's/-lssl/-lssl -lcrypto/g' Makefile
  make
}

package() {
  cd ${srcdir}/${pkgname}/trunk
  install -dm755 ${pkgdir}/${_rootpath}/${_category}/${pkgname}
  cp --preserve=mode -r * ${pkgdir}/${_rootpath}/${_category}/${pkgname}
}
