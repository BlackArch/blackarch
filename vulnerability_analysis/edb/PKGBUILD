# Maintainer: Ari Mizrahi <codemunchies@gmail.com>

pkgname=edb
pkgver=0.9.18
pkgrel=1
pkgdesc="Qt4 based binary mode debugger with the goal of having usability on par with OllyDbg"
arch=('i686' 'x86_64')
url="http://freecode.com/projects/edebugger"
license=('GPL2')
source=(
	"http://www.blackarch.org/pkgs/$pkgname-$pkgver.tar.gz"
	"http://www.blackarch.org/dsktp/blackarch-$pkgname.desktop"
)
depends=('qt' 'boost' 'boost-libs')
md5sums=('
	1376c1a2e4107d6ebaa30adfc5696c61
  3c39470323879af75e8ce2c469de94cf
')

build() {
  cd "$srcdir/$pkgname-$pkgver"
  qmake
  make
}

package() {
  cd "$srcdir"
  install -Dm644 blackarch-${pkgname}.desktop ${pkgdir}/usr/share/applications/blackarch-${pkgname}.desktop

  install -dm755 ${pkgdir}/blackarch/vulnerability_analysis/edb
  cp --preserve=mode -r * ${pkgdir}/blackarch/vulnerability_analysis/edb
}
