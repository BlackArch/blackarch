# This file is part of BlackArch Linux ( http://blackarch.org ).
# See COPYING for license details.

pkgname=fsnoop
pkgver=3.4
pkgrel=2
groups=('blackarch' 'blackarch-scanner')
pkgdesc='A tool to monitor file operations on GNU/Linux systems by using the Inotify mechanism. Its primary purpose is to help detecting file race condition vulnerabilities and since version 3, to exploit them with loadable DSO modules (also called "payload modules" or "paymods").'
arch=('x86_64' 'armv6h' 'armv7h' 'aarch64')
url='http://vladz.devzero.fr/fsnoop.php'
license=('Beer-Ware')
depends=('glibc')
source=("http://vladz.devzero.fr/svn/projects/fsnoop/releases/fsnoop-${pkgver}.tar.gz")
sha512sums=('20800c4edea020325456344290aaff3d3d5c01e8aca4953db4b6a9c322ace565c3a2d81e1a93acb65493f8bdc938eb5ec6ede797a4f2580b71c07c3c615a6497')

build() {
  cd "$srcdir/fsnoop-$pkgver"

  make
}

package() {
  cd "$srcdir/fsnoop-$pkgver"

  install -Dm755 fsnoop "$pkgdir/usr/bin/fsnoop"
  install -Dm644 -t "$pkgdir/usr/share/doc/fsnoop/" README.md todo.txt \
    ChangeLog
}
