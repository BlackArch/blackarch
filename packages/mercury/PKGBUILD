# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=mercury
pkgver=1
pkgrel=0
groups=('blackarch' 'blackarch-networking')
pkgdesc='This package contains two programs for fingerprinting network traffic and capturing and analyzing packet metadata: mercury, a Linux application that leverages the modern Linux kernel high-performance networking capabilities (AF_PACKET and TPACKETv3).'
url='https://github.com/cisco/mercury'
license=('Copyright (c) 2019 Cisco Systems, Inc')
arch=('x86_64')
source=("$pkgname::git+https://github.com/cisco/$pkgname.git")
sha512sums=('SKIP')

prepare() {
  cd "$pkgname"
  ./configure
}

build() {
  cd "$pkgname-$pkgver"

  make
}

package() {
  cd "$pkgname-$pkgver"
  make DESTDIR="$pkgdir/" install
}

