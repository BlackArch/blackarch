# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=tcgetkey
pkgver=0.1
pkgrel=3
groups=('blackarch' 'blackarch-dos')
pkgdesc='A set of tools that deal with acquiring physical memory dumps via FireWire and then scan the memory dump to locate TrueCrypt keys and finally decrypt the encrypted TrueCrypt container using the keys.'
arch=('x86_64' 'aarch64')
url='http://packetstormsecurity.com/files/119146/tcgetkey-0.1.html'
license=('unknown')
depends=('openssl' 'libforensic1394')
source=("http://dl.packetstormsecurity.net/UNIX/utilities/${pkgname}_$pkgver.tgz")
sha512sums=('c7eca370d6c841f30f24c184dc846536b2d975f417e22823c5d29f5ecea5496f0ff6d28c8a647efb163fe689e9fd0ba054975ea3c407bbdb901a353dcc418fc1')

build() {
  cd $pkgname

  make
}

package() {
  cd $pkgname

  install -dm 755 "$pkgdir/usr/bin"

  install -Dm 755 -t "$pkgdir/usr/bin" $pkgname get_mem_dump
  install -Dm 644 README "$pkgdir/usr/share/doc/$pkgname/README"
}

