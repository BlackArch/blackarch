# This file is part of BlackArch Linux ( http://blackarch.org ).
# See COPYING for license details.

pkgname=ndpi
_name=nDPI
pkgver=2.2
pkgrel=1
pkgdesc='Open and Extensible GPLv3 Deep Packet Inspection Library.'
arch=('x86_64' 'armv6h' 'armv7h' 'aarch64')
url='https://github.com/ntop/nDPI'
depends=('libpcap')
makedepends=('autogen' 'automake' 'autoconf' 'clang' 'gcc' 'libtool')
license=('GPL3')
source=("https://github.com/ntop/$_name/archive/$pkgver.zip")
sha512sums=('fb6fc3acad8e781b8471d3dda47661e5997c76fc8e38877e6ef8720d6ba4f7e26d4a92965c0858d94c3b48a25f369e56b234da67898aa91e43f2ffae852f55f3')

build() {
  cd "$_name-$pkgver"

  ./autogen.sh

  ./configure --prefix=/usr

  make
}

package() {
  cd "$_name-$pkgver"

  make DESTDIR="$pkgdir" install
}

