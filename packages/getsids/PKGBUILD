# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=getsids
pkgver=1.0.0
pkgrel=1
pkgdesc='Enumerate Oracle Sids by sending the services command to the Oracle TNS listener.'
arch=('x86_64' 'aarch64')
groups=('blackarch' 'blackarch-database')
url='http://www.cqure.net/wp/getsids/'
license=('GPL-2.0-or-later')
depends=('glibc')
makedepends=('gcc')
source=("https://github.com/Obsidian-Covenant/$pkgname/archive/refs/tags/$pkgver.tar.gz")
sha512sums=('55de3e3b5e8d1a7a8b4ad1378ed1b849c097ba771dfcacd013b83d97848409d64ac880589a9807b4052a5fc5791d9c44a1c3230fe4c11838042267135a8cab46')

build() {
  cd "$pkgname-$pkgver"
  
  autoreconf -i
  ./configure --prefix=/usr
  make
}

package(){
  cd "$pkgname-$pkgver"

  make DESTDIR="$pkgdir" install

  install -Dm 644 -t "$pkgdir/usr/share/doc/$pkgname/" *.md
}

