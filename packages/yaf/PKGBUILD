# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=yaf
pkgver=2.12.2
pkgrel=1
pkgdesc='Yet Another Flowmeter.'
groups=('blackarch' 'blackarch-networking')
arch=('x86_64' 'aarch64')
url='https://tools.netsa.cert.org/yaf/download.html'
license=('GPL')
depends=('libltdl' 'libpcap' 'libfixbuf')
source=("http://tools.netsa.cert.org/releases/$pkgname-$pkgver.tar.gz")
sha512sums=('9be88896a393684cc686f98b1885a4be64192dc5111c538b05c0e86c05b1e173dc83aae592d6250768fea0ce0db2e5571a6b61a3e82aee223d7eb3b5e7f660b4')

build() {
  cd "$pkgname-$pkgver"

  ./configure --prefix=/usr --enable-applabel --enable-mpls --enable-plugins

  make
}

package() {
  cd "$pkgname-$pkgver"

  make DESTDIR="$pkgdir" install

  mv "$pkgdir/usr/etc" "$pkgdir/etc"
}

