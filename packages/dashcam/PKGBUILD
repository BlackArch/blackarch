pkgname=dashcam
pkgver=0.1.1
pkgrel=1
pkgdesc='C/Python dashcam built with Gstreamer for Raspberry Pi/BeagleBone Black'
groups=('blackarch')
arch=('any')
license=('GPL3')
url='https://github.com/zachhuff386/${pkgname}'
depends=('python2'
        'gstreamer'
        'gst-libav'
        'gst-plugins-base'
        'gst-plugins-base-libs'
        'gst-plugins-good'
        'gst-plugins-bad')
makedepends=('python2-distribute')
optdepends=(
        'python2-pygame: Starting sound support'
        'python2-raspberry-gpio: Raspberry Pi LED support'
        'python2-bbio: BeagleBone Black LED support')
provides=('dashcam')
source=("${url}/archive/${pkgver}.tar.gz")
sha256sums=('635e792b7b197735527eb5561167603750726739bdff662b1d83845f972ed3f9')
backup=('etc/dashcam.conf')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  make DESTDIR="${pkgdir}" install
}
