# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=ghost-phisher
pkgver=2.0
pkgrel=2
pkgdesc='GUI suite for phishing and penetration attacks.'
arch=('any')
groups=('blackarch' 'blackarch-scanner' 'blackarch-spoof')
url='https://github.com/Obsidian-Covenant/ghost-phisher'
license=('GPL-3.0-or-later')
depends=('aircrack-ng' 'python' 'python-bottle' 'python-pyqt6'
         'python-scapy' 'xterm')
optdepends=('metasploit')
source=("https://github.com/Obsidian-Covenant/$pkgname/archive/refs/tags/$pkgver.tar.gz")
sha512sums=('c56b76b2050716068ff60d8d89a27a64838cf4f2e0281b6e54eeb36527d3d966678fbdd5086ecd5570bae10a97b7a3061766610ad0e11b6600472984d02a881f')

package() {
  cd "$pkgname-$pkgver"

  install -dm 755 "$pkgdir/usr/bin"
  install -dm 755 "$pkgdir/usr/share/$pkgname"

  cp -a * "$pkgdir/usr/share/$pkgname/"

  cat > "$pkgdir/usr/bin/$pkgname" << EOF
#!/bin/sh
exec python /usr/share/$pkgname/ghost.py "\$@"
EOF

  chmod +x "$pkgdir/usr/bin/$pkgname"
}

