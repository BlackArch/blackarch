# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=bindiff
pkgver=6.0.0
pkgrel=1
pkgdesc='A comparison tool for binary files, that assists vulnerability researchers and engineers to quickly find differences and similarities in disassembled code.'
groups=('blackarch' 'blackarch-binary' 'blackarch-reversing')
url='http://www.zynamics.com/bindiff.html'
arch=('x86_64')
license=('custom:unknown')
depends=('java-runtime')
source=("https://storage.googleapis.com/$pkgname-releases/${pkgname}_6_amd64.deb"
        "https://storage.googleapis.com/$pkgname-releases/$pkgname-license-key.zip")
sha512sums=('6ebb45f6265c5f9bb0813b261ea08ddd56e67715f49daf419029d05e61faa9acd3b86376f07fc639637fdd3406872ab0ea95b839fb8e3896e9ff1a880c29383c'
            'e07258362f04d250c6f00c4ca3c6e92fc2b014c63a9ad8b36d813591053c64118283724a594fbae3a4517cba112a952bcc7ab4557cd1e14ab711076fd70bcc7e')
install="$pkgname.install"

package() {
  install -dm 755 "$pkgdir/usr/bin/"

  tar -xvf 'data.tar.xz' -C "$pkgdir"

  #ln -s "/opt/zynamics/BinDiff/bin/$pkgname.sh" "$pkgdir/usr/bin/$pkgname"

  install -Dm 444 'zynamics BinDiff License Key.txt' \
    "$pkgdir/opt/$pkgname/bin/"
}

