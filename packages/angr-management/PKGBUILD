# This file is part of BlackArch Linux ( http://blackarch.org ).
# See COPYING for license details.

pkgname=angr-management
pkgver=9.2.33
pkgrel=1
groups=('blackarch' 'blackarch-binary' 'blackarch-disassembler'
        'blackarch-reversing')
pkgdesc='This is the GUI for angr.'
arch=('any')
url='https://github.com/angr/angr-management'
license=('BSD')
depends=('angr' 'python' 'pyside6' 'python-pyside6-qtads' 'python-qtawesome'
         'python-qtpy' 'python-bidict' 'python-getmac' 'ipython'
         'python-pyqodeng-core' 'python-pyxdg' 'python-qtconsole' 'python-qtterm'
         'python-requests' 'python-tomlkit')
makedepends=('git' 'python-setuptools')
source=("https://files.pythonhosted.org/packages/source/${pkgname::1}/$pkgname/$pkgname-$pkgver.tar.gz")
sha512sums=('ea4e9085814fbf4e3c25045e79942d1e9181fdd7028eb08faa3a0a102bf88f3a39c23e967b47477d417bf807f9392f52404c253fc8afd7707bbcf468878441a8')

build() {
  cd "$pkgname-$pkgver"

  python setup.py build
}

package() {
  cd "$pkgname-$pkgver"

  install -dm 755 "$pkgdir/usr/share/$pkgname"

  python setup.py install --root="$pkgdir" --prefix=/usr -O1 --skip-build

  install -Dm 644 -t "$pkgdir/usr/share/doc/$pkgname/" README.md
}

