# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=python-ssh-mitm
_pkgname=ssh-mitm
pkgver=0.5.7
pkgrel=1
pkgdesc='SSH mitm server for security audits supporting public key authentication, session hijacking and file manipulation.'
arch=('any')
groups=('blackarch' 'blackarch-exploitation' 'blackarch-sniffer')
url='https://ssh-mitm.at'
license=('LGPL3')
depends=('python' 'python-paramiko' 'python-pytz' 'python-enhancements')
makedepends=('python-setuptools')
source=("https://files.pythonhosted.org/packages/83/6f/ef541bd4440a117d3d19551d4810c2991781b4c853eb7da5d845af82617f/$_pkgname-$pkgver.tar.gz")
sha512sums=('08add5a242905e9e8ac4358e8acf469e4cfbc8af85d9ae3b8fe00115c8255ff2850b2d568c72ae23ec13b50a7876a1e71009054ae5c7c25b6a824ee32f6e127c')

build() {
  cd "$_pkgname-$pkgver"

  python setup.py build
}

package() {
  cd "$_pkgname-$pkgver"

  python setup.py install --root="$pkgdir" --prefix=/usr -O1 --skip-build
}

