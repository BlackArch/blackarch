# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=python-exifread
_pkgname=exif-py
pkgver=3.5.1
pkgrel=1
pkgdesc='Python library to extract EXIF data from tiff and jpeg files.'
arch=('any')
url='https://github.com/ianare/exif-py/'
license=('BSD-3-Clause')
depends=('python' 'python-pylint' 'mypy')
makedepends=('python-build' 'python-pip')
source=("https://github.com/ianare/$_pkgname/archive/$pkgver.tar.gz")
sha512sums=('4c7ed9c51c8c49e3a9fad816a1c4ec08c3a3afd56c19da26458686ec9dd4416298486222ccb4c73e7f5904ceb4f7f46c5f3ae0260f0e25bd48f583efcc78cc93')

build() {
  cd "$_pkgname-$pkgver"

  python -m build --wheel --outdir="$startdir/dist"
}

package() {
  cd "$_pkgname-$pkgver"

  pip install \
    --verbose \
    --disable-pip-version-check \
    --no-warn-script-location \
    --ignore-installed \
    --no-compile \
    --no-deps \
    --root="$pkgdir" \
    --prefix=/usr \
    --no-index \
    --find-links="file://$startdir/dist" \
    $_pkgname
}

