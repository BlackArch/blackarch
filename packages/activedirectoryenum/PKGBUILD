# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=activedirectoryenum
_pkgname=ActiveDirectoryEnumeration
__pkgname=ActiveDirectoryEnum
pkgver=0.4.2
pkgrel=1
epoch=1
pkgdesc='Enumerate AD through LDAP.'
arch=('any')
groups=('blackarch' 'blackarch-recon')
url='https://github.com/CasperGN/ActiveDirectoryEnumeration'
license=('MIT')
depends=('python' 'python-cffi' 'python-click' 'python-cryptography'
         'python-dnspython' 'python-flask' 'python-future' 'impacket'
         'python-itsdangerous' 'python-jinja' 'python-ldap3' 'ldapdomaindump'
         'python-markupsafe' 'python-progressbar' 'python-pyasn1'
         'python-pycparser' 'python-pycryptodomex' 'python-pyopenssl'
         'python-six' 'python-termcolor' 'python-werkzeug')
makedepends=('python-setuptools')
source=("https://files.pythonhosted.org/packages/5e/91/4fdb4c1ae55215ac527735d6fd94b8a9338b80c823ebea235ba08a84f662/$__pkgname-$pkgver.tar.gz")
sha512sums=('07414c4ed6ed212368fe9afa5ab1747446a0de6daf760ebba9ece2a693c82c2ab07d8058e3cb4c9558d6f8591efa4f3b4b1b54b03e39bde4f9796f0afe55db63')

build() {
  cd "$__pkgname-$pkgver"

  python setup.py build
}

package() {
  cd "$__pkgname-$pkgver"

  python setup.py install --root="$pkgdir" --prefix=/usr -O1 --skip-build
}


