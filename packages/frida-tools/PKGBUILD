# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname='python-frida-tools'
_pkgname=frida-tools
pkgver=13.6.0
pkgrel=1
pkgdesc='Frida CLI tools.'
groups=('blackarch' 'blackarch-mobile' 'blackarch-binary' 'blackarch-reversing')
arch=('any')
url='https://pypi.org/project/frida-tools/#files'
license=('custom:unknown')
depends=('python' 'python-frida' 'python-colorama' 'python-prompt_toolkit'
         'python-pygments' 'libimobiledevice' 'python-websockets')
makedepends=('python-setuptools')
source=("https://files.pythonhosted.org/packages/source/${_pkgname::1}/$_pkgname/$_pkgname-$pkgver.tar.gz"
        'setup.py.patch')
sha512sums=('fe7d49cf38632d0e27342439543f73e1024ddc235ba037a771ffd56b8f1eab815372b5a0332254078d52e12dd743772b6e540f2ebf16eeac4d31fc78955b8c57'
            '988bc97e8a09bd8410c9f3c9336fa7a3b5aec85de56bc69331935260453d940ce676be5507f3585d7e9333d40155d1557e9af0d78cd46324c81ea63da5c4cb2f')

# prepare() {
#   #patch -p1 < setup.py.patch
# }

build() {
  cd "$_pkgname-$pkgver"

  python setup.py build
}


package() {
  cd "$_pkgname-$pkgver"

  python setup.py install --root="$pkgdir" --prefix=/usr -O1 --skip-build
}

