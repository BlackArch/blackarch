# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=netreactor-slayer
_pkgname=NETReactorSlayer
pkgver=6.4.0.0
pkgrel=1
pkgdesc="Open source deobfuscator and unpacker for Eziriz .NET Reactor."
arch=("x86_64")
groups=('blackarch' 'blackarch-windows' 'blackarch-unpacker'
        'blackarch-binary' 'blackarch-reversing')
url="https://github.com/SychicBoy/NETReactorSlayer"
license=("GPL3")
depends=()
makedepends=()
options=(!strip)
source=("https://github.com/SychicBoy/NETReactorSlayer/releases/download/v$pkgver/$_pkgname-windows.zip"
        "https://github.com/SychicBoy/NETReactorSlayer/releases/download/v$pkgver/$_pkgname.CLI-net6.0-linux64.zip")
sha512sums=('375928bb6c74f2eba639c8679d826bc1a789f42b218de23cd82489c95aa4fbef61818b069d3eaadb758c57c525f710fae9dc2f48163b16aa36e3d2ea81008e0d'
            '1a14f9f20414da25b6cd0716eb30960e4c86f0aba1ec015f6b2ac7af6187ca84cfc1ab76b7a29220909c49199701a60cdcdafe18c53c7437469a2211afc5e330')

package() {
  install -dm 755 "$pkgdir/usr/bin"
  install -dm 755 "$pkgdir/usr/share/windows/$pkgname"

  rm "$_pkgname-windows.zip"
  rm "$_pkgname.CLI-net6.0-linux64.zip"
  mv "$_pkgname.CLI" "$pkgdir/usr/bin/netreactor-slayer"
  
  chmod +x "$pkgdir/usr/bin/netreactor-slayer"
  cp -a * "$pkgdir/usr/share/windows/$pkgname/"
}

