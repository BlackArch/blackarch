# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=glpwnme
pkgver=0.4.2
pkgrel=1
pkgdesc='GLPI vulnerabilities checking tool.'
arch=('any')
groups=('blackarch')
url='https://github.com/Orange-Cyberdefense/glpwnme'
license=('GPL-3')
depends=('python' 'python-beautifulsoup4' 'python-bs4' 'python-certifi'
	 'python-charset-normalizer' 'python-idna' 'python-markdown-it-py'
	 'python-mdurl' 'python-packaging' 'python-pygments' 'python-requests'
	'python-rich' 'python-soupsieve' 'python-urllib3')
makedepends=('python-build' 'python-installer' 'python-setuptools'
             'python-wheel')
source=("${pkgname}-${pkgver}::git+${url}")
sha512sums=('SKIP')

build() {
  cd "$pkgname-$pkgver"

  python -m build --wheel --no-isolation
}

package() {
  cd "$pkgname-$pkgver"

  python -m installer --destdir="$pkgdir" dist/*.whl
}
