# This file is part of BlackArch Linux ( http://blackarch.org ).
# See COPYING for license details.

pkgname='android-ndk'
pkgver='r12b'
pkgrel=1
pkgdesc='Android C/C++ developer kit.'
arch=('i686' 'x86_64' 'armv6h' 'armv7h')
groups=('blackarch' 'blackarch-mobile')
url='http://developer.android.com/sdk/ndk/index.html'
license=('GPL' 'LGPL' 'custom')
depends=('android-sdk')
options=('!strip' 'staticlibs')
install=android-ndk.install
source=("http://dl.google.com/android/repository/android-ndk-${pkgver}-linux-x86_64.zip"
        'android-ndk.sh')
sha1sums=('170a119bfa0f0ce5dc932405eaa3a7cc61b27694'
          '2c03a98f773704d3357ed06d6cc2412b184a3c0c')
if [[ $CARCH == i686 ]]; then
  source[0]=http://dl.google.com/android/ndk/android-ndk-r10e-linux-x86.bin
  sha1sums[0]=9b88b9ce611d83a5e9af09b10635b3439eb9ed04
fi

package() {
  cd "$srcdir"

  mkdir -p "$pkgdir/opt"

  install -Dm755 android-ndk.sh "$pkgdir/etc/profile.d/android-ndk.sh"

  cp -a android-ndk-$pkgver "$pkgdir/opt/android-ndk"
}
