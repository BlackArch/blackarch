# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.

pkgname=python2-libnum
pkgver=1.6.0
pkgrel=1
pkgdesc='Working with numbers (primes, modular, etc.).'
arch=('any')
url='https://github.com/hellman/libnum'
license=('MIT')
depends=('python2')
makedepends=('python2-setuptools' 'git')
source=("https://files.pythonhosted.org/packages/ac/fd/fb987b0c112a8d673428a1eb1eed8fe5267d5ec0b0e0795bfc7b589c5df3/libnum-1.6.0.tar.gz")
sha512sums=('4dbd5f5c23e46f83c86bd8db8bbf1d32286c8efc4ba903e775ee451b11ab7578eb254b32fff297ca6b4443905013bd74072eea4e2e5ae8132b483fb86f0a518a')

pkgver() {
  cd "libnum"

  echo $(git rev-list --count HEAD).$(git rev-parse --short HEAD)
}

build() {
  cd "libnum"

  python2 setup.py build
}

package() {
  cd "libnum"

  python2 setup.py install --prefix=/usr --root="$pkgdir" --optimize=1 \
    --skip-build
}

