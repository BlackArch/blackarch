# This file is part of BlackArch Linux ( http://blackarch.org ).
# See COPYING for license details.

pkgname=webscarab
pkgver=20120422.001828
pkgrel=9
groups=('blackarch' 'blackarch-fuzzer' 'blackarch-proxy' 'blackarch-scanner' 'blackarch-webapp')
pkgdesc="Framework for analysing applications that communicate using the HTTP and HTTPS protocols"
arch=('any')
url='http://www.owasp.org/index.php/Category:OWASP_WebScarab_Project'
license=('GPL2')
depends=('java-environment')
noextract=("webscarab-one-${pkgver/./-}.jar")
source=("http://dawes.za.net/rogan/webscarab/webscarab-one-${pkgver/./-}.jar")
sha512sums=('8a36397fe3b74250e9afb716cfb34ffae765aca049d722cd2778e3998c79700f831ce2d8251c95320abfb3cd9438146319ea86e1261f11aa68cab69e7df15e55')

package() {
  cd "$srcdir"

  install -dm 755 "$pkgdir/usr/bin"

  install -Dm755 webscarab-one-${pkgver/./-}.jar \
    "$pkgdir/usr/share/webscarab/webscarab.jar"

  cat > "$pkgdir/usr/bin/webscarab" << EOF
#!/bin/sh
exec java -jar /usr/share/webscarab/webscarab.jar "\$@"
EOF

  chmod +x "$pkgdir/usr/bin/webscarab"
}
