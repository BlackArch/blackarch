# This file is part of BlackArch Linux ( https://www.blackarch.org/ ).
# See COPYING for license details.
#
# Maintainer: xsser01 <psosoej210@gmail.com>

pkgname=phantomcollect
pkgver=1.0.0
pkgrel=2
pkgdesc='Lightweight stealth web data collection framework for ethical security testing.'
arch=('any')
url='https://github.com/xsser01/phantomcollect'
license=('MIT')
groups=('blackarch' 'blackarch-webapp' 'blackarch-recon')
depends=('python' 'python-flask' 'python-requests' 'python-pysqlite3')
makedepends=('python-build' 'python-installer' 'python-wheel'
             'python-setuptools')
source=("https://github.com/xsser01/phantomcollect/archive/v$pkgver.tar.gz")
sha512sums=('ddfca69766007bdf25974a13003d31f5c22e215ea79bbb79edad13ee7ce0866e64923ac8a99fb822738c4ea241a69a92997502240518e2327f08de9d4f51b1ec')

build() {
  cd "$pkgname-$pkgver"

  python -m build --wheel --no-isolation
}

package() {
  cd "$pkgname-$pkgver"

  python -m installer --destdir="$pkgdir" dist/*.whl

  install -Dm 644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}

