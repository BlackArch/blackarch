# Maintainer: Ari Mizrahi <codemunchies@gmail.com>

pkgname=blindelephant
pkgver=r7
pkgrel=1
pkgdesc="a web application fingerprinter attempts to discover the version of a (known) web application by comparing static files at known locations against 
precomputed hashes for versions of those files in all available releases"
arch=('i686' 'x86_64')
url="http://blindelephant.sourceforge.net/"
license=('GPL3')
source=(
	"http://www.blackarch.org/pkgs/$pkgname-$pkgver.tar.gz"
	"http://www.blackarch.org/dsktp/blackarch-${pkgname}.desktop"
)
depends=('python2')
md5sums=('
	b9f545c616cb129d5ac566e513a866b5
  e2d38695297938fbe55a8a8744be5098
')

package() {
  cd "$srcdir"
  install -Dm644 blackarch-${pkgname}.desktop ${pkgdir}/usr/share/applications/blackarch-${pkgname}.desktop
  
  cd "$srcdir/$pkgname-$pkgver/src"
  python2 setup.py install --root=${pkgdir}/blackarch/intelligence_gathering/blindelephant

  cd "$srcdir/$pkgname-$pkgver"
  install -dm755 ${pkgdir}/blackarch/intelligence_gathering/blindelephant
  cp --preserve=mode -r * ${pkgdir}/blackarch/intelligence_gathering/blindelephant
}

